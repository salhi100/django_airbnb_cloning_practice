{% extends "base.html" %}

{% block page_title %}
    Search
{% endblock page_title %}

{% comment %} not inheriting search-bar from base.html {% endcomment %}
{% block search-bar %}
{% endblock search-bar %}

{% block content %}

<h2>Search</h2>

{% comment %} GETTING USER REQUESTS {% endcomment %}
<form method="get" action="{% url "rooms:search" %}">
<div>
  <label for="city">City</label>
  <input value="{{city}}" id="city" name="city" placeholder ="Search by City">
</div>
  

<div>
  <label for="country">Country</label>
  <select id = "country" name="country">
    {% for country in countries %}
      <option value="{{country.code}}" {% if country.code == selected_country %}selected{% endif %}> {{country.name}}</option>
    {% endfor %}
  </select>
</div>

<div>
  <label for="room_type">Room Types</label>
  <select id = "room_type" name="room_type">
  <option value="0" {% if selected_room_type == 0 %} selected {% endif %}>Any kind</option>
    {% for room_type in room_types %}
      <option value="{{room_type.pk}}" {% if selected_room_type == room_type.pk %} selected {% endif %}> {{room_type.name}}</option>
    {% endfor %}
  </select>
</div>

<div>
  <label for="price">Price</label>
  <input value = "{{price}}"  type="number" name = "price" id="price" placeholder="Price"/>
</div>

<div>
  <label for="guests">Guests</label>
  <input value = "{{guests}}"  type="number" name = "guests" id="guests" placeholder="guests"/>
</div>

<div>
  <label for="bedrooms">Bedrooms</label>
  <input value = "{{beds}}"  type="number" name = "bedrooms" id="bedrooms" placeholder="bedrooms"/>
</div>

<div>
  <label for="beds">Beds</label>
  <input value = "{{bedrooms}}"  type="number" name = "beds" id="beds" placeholder="beds"/>
</div>

{% comment %} DISPLAYING ON TEMPLATE {% endcomment %}

<div>
<h3>Amenities</h3>
<ul>
{% for amenity in amenities %}
  <li>
    <label for = "a_{{amenity.pk}}">{{amenity.name}}</label>
    <input id="a_{{amenity.pk}}" name="amenities" type="checkbox" value = "{{amenity.pk}}"  />
  </li>
{% endfor %}
</ul>

<h3>Facilities</h3>
<ul>
{% for facility in facilities %}
  <li>
    <label for = "a_{{facility.pk}}">{{facility.name}}</label>
    <input id="a_{{facility.pk}}" name="facilities" type="checkbox" value = "{{facility.pk}}" />
  </li>
{% endfor %}
</ul>

</div>



<button>Search</button>
</form>

{% endblock content%} 